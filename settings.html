<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- TITLE -->
    <title>CamGuideMe</title>

    <link rel="icon" type="image/png" href="assets/images/logo.png">

    <!-- CSS -->
    <style>
        :root {
    --main-color: #51c3e0;
    --background: #f9f9fb;
    --card-bg: #ffffff;
    --text: #1e1e1e;
    --subtext: #555;
    --shadow: rgba(0, 0, 0, 0.1);

    --header-text: #ffffff;          /* hover color */
    --header-hover: #D6F7FC;
    --header-active-line: #ffffff;     /* active underline color */

    --arrow-filter: invert(1);       /* white for light theme */
    --arrow-hover-filter: brightness(0) saturate(100%) invert(92%) sepia(5%) saturate(500%) hue-rotate(165deg) brightness(105%) contrast(95%); /* black on hover */
}

[data-theme="dark"] {
    --main-color: #3caac4;
    --background: #121212;
    --card-bg: #1e1e1e;
    --text: #f4f4f4;
    --subtext: #ccc;
    --shadow: rgba(0, 0, 0, 0.6);

    --header-text: #000000;          /* hover color */
    --header-hover: #D6F7FC;
    --header-active-line: #000000;     /* active underline color */
    
    --arrow-filter: invert(0);       /* white for light theme */
    --arrow-hover-filter: brightness(0) saturate(100%) invert(92%) sepia(5%) saturate(500%) hue-rotate(165deg) brightness(105%) contrast(95%); /* black on hover */
}

body {
    margin: 0;
    font-family: "Poppins", Arial, sans-serif;
    background-color: var(--background);
    color: var(--text);
    transition: background-color 0.3s, color 0.3s;
}

/* HEADER */
header {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 12px 16px;
    background: var(--main-color);
    color: var(--header-text);
    box-shadow: 0 2px 6px var(--shadow);
    position: sticky;
    top: 0;
    z-index: 10;
}

.header-content {
    display: flex;
    align-items: center;
    gap: 10px;
}
.header-content .logo {
    width: 38px;
    height: 38px;
    padding-left: 5px;
}

header h1 {
    font-size: 20px;
    padding-left: 5px;
    margin: 0;
    color: var(--header-text);
}
/* HEADER MENU */
.header-menu {
    display: flex;
    gap: 20px;
    margin-left: auto; /* push menu to the right */
}

.header-menu .menu-item {
    position: relative;
    color: var(--header-text);
    text-decoration: none;
    font-size: 16px;
    font-weight: bold;
    padding: 6px 10px;
    border-radius: 6px;
    transition: transform 0.2s;
    padding-bottom: 2px;
}

.header-menu .menu-item:hover {
    transform: scale(1.05);
    color: var(--header-hover);
}

@media (max-width: 600px) {
    .header-menu {
        flex-wrap: wrap;
        gap: 10px;
        width: 100%;
        justify-content: center;
        margin-top: 8px;
    }
}
/* DROPDOWN BUTTON */
.menu-dropdown {
    position: relative;
}

.dropdown-btn {
    background: none;
    border: none;
    cursor: pointer;
    color: var(--header-text);
    font-size: 16px;
    font-weight: 500;
    padding: 6px 10px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    gap: 6px;
}

/* ARROW ICON */
.arrow-icon {
    width: 14px;
    height: 14px;
    transition: transform 0.25s ease;
    filter: var(--arrow-filter);
}

/* Rotate arrow when active */
.arrow-rotate {
    transform: rotate(180deg);
}
.menu-item:hover .arrow-icon {
    filter: var(--arrow-hover-filter);
}

/* DROPDOWN MENU */
.dropdown-content {
    display: none;
    position: absolute;
    top: 28px;
    right: 10px;
    min-width: 140px;
    background: var(--card-bg);
    border: 1px solid rgba(81, 195, 224, 0.3);
    border-radius: 10px;
    box-shadow: 0 3px 10px var(--shadow);
    flex-direction: column;
    z-index: 100;
    overflow: hidden;
    padding: 0;
    box-sizing: border-box;
    animation: dropdownFade 0.25s ease;
}

.dropdown-content a {
    padding: 10px 14px;
    text-decoration: none;
    color: var(--text);
    display: block;
}

/* Divider between Favorites and Visited */
.dropdown-content a + a::before {
    content: "";
    position: absolute;
    top: 0;
    left: 12px;
    right: 12px;
    height: 1px;
    background: rgba(81, 195, 224, 0.3); /* same as layout divider */
}
.dropdown-content a {
    position: relative; /* needed for the ::before positioning */
}
.dropdown-content a:hover {
    background: var(--main-color);
    color: white;
    border-radius: 0;
}
.dropdown-content a:first-child:hover {
    border-top-left-radius: 10px;
    border-top-right-radius: 10px;
}
.dropdown-content a:last-child:hover {
    border-bottom-left-radius: 10px;
    border-bottom-right-radius: 10px;
}

/* Animation */
@keyframes dropdownFade {
    from { opacity: 0; transform: translateY(-5px); }
    to { opacity: 1; transform: translateY(0); }
}

        main {
            padding: 16px;
        }
        .setting-item {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: flex-start;
            background: var(--card-bg);
            border: 1px solid var(--main-color);
            text-align: left;
            padding: 12px 48px 12px 16px;
            margin: 6px 0;
            font-size: 16px;
            color: var(--text);
            border-radius: 15px;
            margin-bottom: 12px;
            box-shadow: 0 1px 3px var(--shadow);
            cursor: pointer;
            box-sizing: border-box;
        }
        .setting-item:hover {
            background: var(--main-color);
        }
        .setting-item span {
            font-size: 16px;
            color: var(--text);
        }
        .setting-item:hover span {
            color: white;
        }
        .setting-item img {
            position: absolute;
            right: 16px;
            width: 17px;
            height: 17px;
            filter: invert(63%) sepia(70%) saturate(496%) hue-rotate(162deg) brightness(96%) contrast(95%);
            transition: transform 0.25s ease, filter 0.25s ease;
        }
        .setting-item:hover img {
            filter: brightness(0) invert(1);
            transform: scale(1.1);
        }
        /* --- LIGHT --- */
        [data-theme="light"] .setting-item span {
            color: #1e1e1e;
        }
        [data-theme="light"] .setting-item img {
            filter: invert(63%) sepia(70%) saturate(496%) hue-rotate(162deg) brightness(96%) contrast(95%);
        }
        [data-theme="light"] .setting-item:hover span {
            color: white;
        }
        [data-theme="light"] .setting-item:hover img {
            filter: brightness(0) invert(1);
        }
        /* --- DARK --- */
        [data-theme="dark"] .setting-item span {
            color: #ffffff;
        }

        [data-theme="dark"] .setting-item img {
            filter: invert(63%) sepia(70%) saturate(496%) hue-rotate(162deg) brightness(96%) contrast(95%);
        }
        [data-theme="dark"] .setting-item:hover span {
            color: #000000;
        }
        [data-theme="dark"] .setting-item:hover img {
            filter: brightness(0);
        }
        /* CHANGE LAYOUT DROPDOWN (same design as Language/Theme) */
#chalaDropdown {
    display: none;
    position: absolute;
    top: 129px;
    left: 16px;
    right: 16px;
    max-width: calc(100% - 32px);
    background: var(--card-bg, #fff);
    color: var(--text, #000);
    border: 1px solid var(--main-color);
    border-radius: 15px;
    box-shadow: 0 3px 10px var(--shadow);
    flex-direction: column;
    z-index: 100;
    padding: 0;
    box-sizing: border-box;
}

#chalaDropdown .option {
    padding: 12px 40px 12px 16px;
    font-size: 15px;
    color: var(--text);
    cursor: pointer;
    width: 100%;
    box-sizing: border-box;
    position: relative;
}
.circle-icon {
    width: 16px;
    height: 16px;
    position: absolute;
    right: 16px;
    top: 50%;
    transform: translateY(-50%);
    filter: var(--circle-filter);
    transition: filter 0.25s ease;
}

/* LIGHT THEME */
[data-theme="light"] .circle-icon {
    --circle-filter: invert(58%) sepia(64%) saturate(3377%) hue-rotate(169deg) brightness(94%) contrast(89%);       /* default: black */
    --circle-hover-filter: brightness(0) invert(1);               /* hover: white */
}

[data-theme="light"] #chalaDropdown .option:hover .circle-icon {
    filter: var(--circle-hover-filter);
}

/* DARK THEME */
[data-theme="dark"] .circle-icon {
    --circle-filter: invert(58%) sepia(64%) saturate(3377%) hue-rotate(169deg) brightness(94%) contrast(89%);                    /* default: white */
    --circle-hover-filter: brightness(0) saturate(100%) invert(0); /* hover: black */
}

[data-theme="dark"] #chalaDropdown .option:hover .circle-icon {
    filter: var(--circle-hover-filter);
}


#chalaDropdown .option + .option::before {
    content: "";
    position: absolute;
    top: 0;
    left: 12px;
    right: 12px;
    height: 1px;
    background: rgba(81, 195, 224, 0.3);
}

#chalaDropdown .option:hover {
    background: var(--main-color);
    color: white;
    border-radius: 0;
}

#chalaDropdown .option:first-child:hover {
    border-top-left-radius: 10px;
    border-top-right-radius: 10px;
}

#chalaDropdown .option:last-child:hover {
    border-bottom-left-radius: 10px;
    border-bottom-right-radius: 10px;
}

/* DARK MODE */
[data-theme="dark"] #chalaDropdown {
    background: #1e1e1e;
    color: #f4f4f4;
}
[data-theme="dark"] #chalaDropdown .option {
    color: #f4f4f4;
}
[data-theme="dark"] #chalaDropdown .option:hover {
    background: var(--main-color);
    color: #000;
}

    </style>
</head>
    
<!-- HTML -->
<body>

    <!-- HEADER -->
       <header>
    <div class="header-content">
        <img src="assets/images/logo.png" alt="CamGuideMe Logo" class="logo" />
        <h1>CamGuideMe</h1>
    </div>

    <!-- NAV MENU -->
    <nav class="header-menu">
    <a href="index.html" class="menu-item">Home</a>

    <div class="menu-dropdown">
        <button class="menu-item dropdown-btn">
            Collection 
            <img src="assets/icons/arrow-downn.png" class="arrow-icon" alt="Arrow">
        </button>
        <div class="dropdown-content">
            <a href="favorites.html">Favorites</a>
            <a href="visited.html">Visited</a>
        </div>
    </div>

    <a href="settings.html" class="menu-item">Settings</a>
    <a href="about.html" class="menu-item">About</a>
</nav>

</header>


    <!-- SETTINGS CONTENT -->
    <main>
        <!-- CHANGE LAYOUT -->
        <div class="setting-item" id="chalaItem">
            <span>Change Layout</span>
            <img src="assets/icons/arrow-down.png" alt="Arrow" />
        </div>
        <!-- TAGALOG & ENGLISH -->
        <div class="dropdown" id="chalaDropdown">
    <div class="option">
        <img class="circle-icon" src="assets/icons/unfilled.png">
        Linear View
    </div>
    <div class="option">
        <img class="circle-icon" src="assets/icons/unfilled.png">
        Grid View
    </div>
</div>

        <!-- GENERAL & PERSONALIZATION -->
        <div class="setting-item" id="generalItem">
            <span>General & Personalization</span>
            <img src="assets/icons/arrow-right.png" alt="Right Arrow" />
        </div>
    </main>

    <!-- JS -->
    <script>
        /// ===== CHANGE LAYOUT FUNCTION =====
const chalaItem = document.getElementById('chalaItem');
const chalaDropdown = document.getElementById('chalaDropdown');
const chalaArrow = chalaItem.querySelector('img');
let isChalaOpen = false;

// Show dropdown
chalaItem.addEventListener('click', () => {
    isChalaOpen = !isChalaOpen;
    chalaDropdown.style.display = isChalaOpen ? 'flex' : 'none';
    chalaArrow.style.transform = isChalaOpen ? 'rotate(180deg)' : 'rotate(0deg)';
});

// Update label from saved layout
function updateLayoutLabel() {
    const savedLayout = localStorage.getItem("layout") || "grid";
}
updateLayoutLabel();

// Apply layout only if islandContainer exists
function applySavedLayout() {
    const savedLayout = localStorage.getItem("layout") || "grid";
    const islandContainer = document.getElementById("islandContainer");
    if (!islandContainer) return;

    if (savedLayout === "linear") {
        islandContainer.classList.add("linear-view");
        islandContainer.style.gridTemplateColumns = "1fr";
    } else {
        islandContainer.classList.remove("linear-view");
        islandContainer.style.gridTemplateColumns = "1fr 1fr 1fr";
    }
}
applySavedLayout();

const chalaOptions = document.querySelectorAll("#chalaDropdown .option");

function updateCircleIcons() {
    const savedLayout = localStorage.getItem("layout") || "grid";

    chalaOptions.forEach(option => {
        const icon = option.querySelector(".circle-icon");
        const isLinear = option.textContent.trim() === "Linear View";

        if ((savedLayout === "linear" && isLinear) ||
            (savedLayout === "grid" && !isLinear)) {
            icon.src = "assets/icons/filled.png";   // SELECTED
        } else {
            icon.src = "assets/icons/unfilled.png"; // NOT SELECTED
        }
    });
}

updateCircleIcons();

chalaOptions.forEach(opt => {
    opt.addEventListener("click", () => {
        const choice = opt.textContent.trim();

        if (choice === "Linear View") {
            localStorage.setItem("layout", "linear");
        } else {
            localStorage.setItem("layout", "grid");
        }

        updateLayoutLabel();
        applySavedLayout();
        updateCircleIcons(); // update icons

        chalaDropdown.style.display = "none";
        chalaArrow.style.transform = "rotate(0deg)";
        isChalaOpen = false;
    });
});





        // THEME FUNCTION - LIGHT, DARK, SYSTEM DEFAULT
        function applyTheme(theme) {
            document.documentElement.setAttribute('data-theme', theme);
            
            // LIGHT
            if (theme === 'light') {
                document.documentElement.style.setProperty('--background', '#f9f9fb');
                document.documentElement.style.setProperty('--text', '#1e1e1e');
                document.documentElement.style.setProperty('--card-bg', '#ffffff');
                document.documentElement.style.setProperty('--subtext', '#555');
                document.documentElement.style.setProperty('--shadow', 'rgba(0,0,0,0.1)');
                document.documentElement.style.setProperty('--icon-filter', 'brightness(0) invert(1)');
                document.documentElement.style.setProperty('--title-color', '#ffffff');
                localStorage.setItem('theme', 'light');
            // DARK    
            } else if (theme === 'dark') {
                document.documentElement.style.setProperty('--background', '#121212');
                document.documentElement.style.setProperty('--text', '#f4f4f4');
                document.documentElement.style.setProperty('--card-bg', '#1e1e1e');
                document.documentElement.style.setProperty('--subtext', '#ccc');
                document.documentElement.style.setProperty('--shadow', 'rgba(0,0,0,0.6)');
                document.documentElement.style.setProperty('--icon-filter', 'invert(0)');
                document.documentElement.style.setProperty('--title-color', '#1e1e1e');
                localStorage.setItem('theme', 'dark');
            // SYSTEM DEFAULT
            } else if (theme === 'system') {
                if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                    applyTheme('dark');
                } else {
                    applyTheme('light');
                }
                localStorage.setItem('theme', 'system');
            } 
        }
        
        const savedTheme = localStorage.getItem('theme') || 'system';
        applyTheme(savedTheme);
        
        if (savedTheme === 'system' && window.matchMedia) {
            window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', () => {
                applyTheme('system');
            });
        }
        
        document.getElementById("generalItem").addEventListener("click", () => {
            window.location.href = "settings_genper.html";
        });

        // CATEGORY DROPDOWN
const dropdownBtn = document.querySelector(".dropdown-btn");
const dropdownMenu = document.querySelector(".dropdown-content");
const arrowIcon = document.querySelector(".arrow-icon");

dropdownBtn.addEventListener("click", () => {
    const isOpen = dropdownMenu.style.display === "flex";

    dropdownMenu.style.display = isOpen ? "none" : "flex";

    // Rotate arrow
    if (isOpen) {
        arrowIcon.classList.remove("arrow-rotate");
    } else {
        arrowIcon.classList.add("arrow-rotate");
    }
});

// Close dropdown when clicking outside
document.addEventListener("click", (e) => {
    if (!e.target.closest(".menu-dropdown")) {
        dropdownMenu.style.display = "none";
        arrowIcon.classList.remove("arrow-rotate");
    }
});
// Auto highlight active page in header menu
const menuItems = document.querySelectorAll('.header-menu .menu-item');

menuItems.forEach(item => {
    const link = item.getAttribute('href');
    if (link === window.location.pathname.split('/').pop()) {
        item.classList.add('active');
    } else {
        item.classList.remove('active');
    }
});

    </script>
</body>
</html>